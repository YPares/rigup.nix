# rigup configuration
# This file defines which rigs are available and their configuration
#
# Local overrides: Create rigup.local.toml (gitignored) to override config
# without modifying this file. Local values take precedence:
#   - Riglet lists are concatenated
#   - Config values are deeply merged (local overrides base)
#   - Extends values are replaced
#
# Workflow:
#   1. Create rigup.local.toml with your local config
#   2. Track it once: git add -f rigup.local.toml
#   3. Modify anytime - Nix automatically sees changes
#   4. .gitignore prevents accidental commits

# Define rigs
[rigs.example-rig.riglets]
# Riglets from this repository
self = [
  "agent-identity",
  "agent-rig-system",
  "riglet-creator",
  "nix-module-system",
  # The next riglets import agent-identity (which will be deduplicated)
  "git-setup",
  "jj-basics",
  "typst-reporter",
]
# Riglets from external flake inputs would go here:
# <flake-input> = ["riglet-from-<flake-input>", "etc."]

# Configuration for this rig (inline Nix module)
[rigs.example-rig.config]
agent.identity.name = "Test Agent"
agent.identity.email = "test@example.com"
typst.template = "simple"

# Rig defined by extending from example-rig to add direct claude-code integration to it
[rigs.example-rig-claude]
extends.self = "example-rig"
riglets.self = ["claude-code-entrypoint"]

