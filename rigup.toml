# rigup configuration
# This file defines which rigs are available and their configuration

# Define rigs
[rigs.example-rig.riglets]
# Riglets from this repository
self = [
  "agent-identity",
  "agent-rig-system",
  "riglet-creator",
  "nix-module-system",
  # The next riglets import agent-identity (which will be deduplicated)
  "git-setup",
  "jj-basics",
  "typst-reporter",
]
# Riglets from external flake inputs would go here:
# <flake-input> = ["riglet-from-<flake-input>", "etc."]

# Configuration for this rig (inline Nix module)
[rigs.example-rig.config]
agent.identity.name = "Test Agent"
agent.identity.email = "test@example.com"
typst.template = "simple"

# Rig defined by extending from example-rig to add direct claude-code integration to it
[rigs.example-rig-claude]
extends.self = "example-rig"
riglets.self = ["claude-code-entrypoint"]

# Actual rig used to work on rigup.nix
[rigs.default.riglets]
self = [
  "claude-code-entrypoint",
  "git-setup",
  "riglet-creator",
  "nix-module-system"
]

[rigs.default.config.agent.identity]
name = "Claude"
email = "claude@anthropics.com"
