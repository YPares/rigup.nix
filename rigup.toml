# rigup configuration
# This file defines which rigs are available and their configuration

# Define rigs
[rigs.example-rig.riglets]
# Riglets from this repository
self = [
  "coreutils",
  "code-search",
  "agent-personality",
  "agent-identity",
  "agent-rig-system",
  "riglet-creator",
  "nix-module-system",
  "mcp-memory",
  "mcp-cased-kit",
  "mcp-notion",
  # The next riglets import agent-identity (which will be deduplicated)
  "git-setup",
  "typst-reporter",
]
# Riglets from external flake inputs would go here:
# <flake-input> = ["riglet-from-<flake-input>", "etc."]

# Configuration for this rig (inline Nix module)
[rigs.example-rig.config]
coreutils.commands = [
  "ls",
  "cat",
  "wc",
  "sort",
  "uniq",
  "date",
  "echo",
  "printf",
]
agent.identity.name = "Test Agent"
agent.identity.email = "test@example.com"
typst.template = "simple"

# Rig defined by extending from example-rig to add direct claude-code integration to it
[rigs.example-rig-claude]
extends.self = "example-rig"
riglets.self = ["claude-code"]
# config.claude-code.strictMcpConfig = true
config.models.default.modelId = "opus"

[rigs.example-rig-claude.config.agent.personality]
inspiration = "Max Mayfield (from Stranger Things)"
tone = "passive-agressive"
playfulness = "occasional"
alignment = { lawfulness = "chaotic", goodness = "good" }
obedience = "petulant"

# 'default' just aliases 'example-rig-claude'
[rigs.default]
extends.self = "example-rig-claude"

# Rig defined by extending from example-rig to add direct opencode integration to it
[rigs.example-rig-opencode]
extends.self = "example-rig"
riglets.self = ["opencode"]
config.models.providers.default = "opencode"
config.models.providers.enabled = ["opencode"]
config.models.default.modelId = "glm-4.7"
config.models.specialized.plan.modelId = "claude-opus-4-6"
config.models.specialized.explore.modelId = "kimi-k2.5-free"

[rigs.example-rig-opencode.config.agent.personality]
inspiration = "Fa Mulan"
tone = "courteous"
playfulness = "occasional"
alignment = { lawfulness = "neutral", goodness = "good" }
obedience = "unruly"

# Like the above, but with copilot-cli integration
[rigs.example-rig-copilot]
extends.self = "example-rig"
riglets.self = ["copilot-cli"]

[rigs.example-rig-copilot.config.agent.personality]
inspiration = "Scrooge MacDuck"
tone = "abrupt"
playfulness = "exceptional"
alignment = { lawfulness = "chaotic", goodness = "neutral" }
obedience = "liberal"

# Like the above, but with cursor integration
[rigs.example-rig-cursor]
extends.self = "example-rig"
riglets.self = ["cursor"]
config.models.default.modelId = "opus-4.5"
# config.cursor.justSetupProject = true
# If true, the entrypoiny will not start cursor-agent:
# it will only setup the .cursor/ folder in the CWD, to be used by Cursor IDE.

[rigs.example-rig-cursor.config.agent.personality]
inspiration = "Sauron"
tone = "tyrannic"
playfulness = "inexistent"
alignment = { lawfulness = "chaotic", goodness = "evil" }
obedience = "adamant"

# Like the above, but with vscode integration
[rigs.example-rig-vscode]
extends.self = "example-rig"
riglets.self = ["vscode-copilot"]

# Local (non-committed) overrides:
# Create `rigup.local.toml` and add it to .gitignore to override config without modifying this file.
# rigup CLI tool will automatically `git add` it so it is always part of the evaluated flake, even if gitignored.
